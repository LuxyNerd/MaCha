{"ast":null,"code":"import _classCallCheck from \"/Users/emine.turcan/Projekt/MaCha/Front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/emine.turcan/Projekt/MaCha/Front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/emine.turcan/Projekt/MaCha/Front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/emine.turcan/Projekt/MaCha/Front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/emine.turcan/Projekt/MaCha/Front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/emine.turcan/Projekt/MaCha/Front/src/Login.js\";\nimport React, { Component } from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport DropDownMenu from 'material-ui/DropDownMenu';\nimport MenuItem from 'material-ui/MenuItem';\nvar apiBaseUrl = \"http://localhost:4000/api/\";\nimport axios from 'axios';\nimport UploadPage from './UploadPage';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    var localloginComponent = [];\n    localloginComponent.push(React.createElement(MuiThemeProvider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      hintText: \"Enter your College Rollno\",\n      floatingLabelText: \"Student Id\",\n      onChange: function onChange(event, newValue) {\n        return _this.setState({\n          username: newValue\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      type: \"password\",\n      hintText: \"Enter your Password\",\n      floatingLabelText: \"Password\",\n      onChange: function onChange(event, newValue) {\n        return _this.setState({\n          password: newValue\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }), React.createElement(RaisedButton, {\n      label: \"Submit\",\n      primary: true,\n      style: style,\n      onClick: function onClick(event) {\n        return _this.handleClick(event);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }))));\n    _this.state = {\n      username: '',\n      password: '',\n      menuValue: 1,\n      loginComponent: localloginComponent,\n      loginRole: 'student'\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      // console.log(\"willmount prop values\",this.props);\n      if (this.props.role != undefined) {\n        if (this.props.role == 'student') {\n          console.log(\"in student componentWillMount\");\n          var localloginComponent = [];\n          localloginComponent.push(React.createElement(MuiThemeProvider, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(TextField, {\n            hintText: \"Enter your College Rollno\",\n            floatingLabelText: \"Student Id\",\n            onChange: function onChange(event, newValue) {\n              return _this2.setState({\n                username: newValue\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }), React.createElement(TextField, {\n            type: \"password\",\n            hintText: \"Enter your Password\",\n            floatingLabelText: \"Password\",\n            onChange: function onChange(event, newValue) {\n              return _this2.setState({\n                password: newValue\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }), React.createElement(RaisedButton, {\n            label: \"Submit\",\n            primary: true,\n            style: style,\n            onClick: function onClick(event) {\n              return _this2.handleClick(event);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }))));\n          this.setState({\n            menuValue: 1,\n            loginComponent: localloginComponent,\n            loginRole: 'student'\n          });\n        } else if (this.props.role == 'teacher') {\n          console.log(\"in teacher componentWillMount\");\n          var localloginComponent = [];\n          localloginComponent.push(React.createElement(MuiThemeProvider, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, React.createElement(TextField, {\n            hintText: \"Enter your College Rollno\",\n            floatingLabelText: \"Teacher Id\",\n            onChange: function onChange(event, newValue) {\n              return _this2.setState({\n                username: newValue\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }), React.createElement(TextField, {\n            type: \"password\",\n            hintText: \"Enter your Password\",\n            floatingLabelText: \"Password\",\n            onChange: function onChange(event, newValue) {\n              return _this2.setState({\n                password: newValue\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }), React.createElement(RaisedButton, {\n            label: \"Submit\",\n            primary: true,\n            style: style,\n            onClick: function onClick(event) {\n              return _this2.handleClick(event);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }))));\n          this.setState({\n            menuValue: 2,\n            loginComponent: localloginComponent,\n            loginRole: 'teacher'\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      var self = this;\n      var payload = {\n        \"userid\": this.state.username,\n        \"password\": this.state.password,\n        \"role\": this.state.loginRole\n      };\n      axios.post(apiBaseUrl + 'login', payload).then(function (response) {\n        console.log(response);\n\n        if (response.data.code == 200) {\n          console.log(\"Login successfull\");\n          var uploadScreen = [];\n          uploadScreen.push(React.createElement(UploadPage, {\n            appContext: self.props.appContext,\n            role: self.state.loginRole,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }));\n          self.props.appContext.setState({\n            loginPage: [],\n            uploadScreen: uploadScreen\n          });\n        } else if (response.data.code == 204) {\n          console.log(\"Username password do not match\");\n          alert(response.data.success);\n        } else {\n          console.log(\"Username does not exists\");\n          alert(\"Username does not exist\");\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"handleMenuChange\",\n    value: function handleMenuChange(value) {\n      var _this3 = this;\n\n      console.log(\"menuvalue\", value);\n      var loginRole;\n\n      if (value == 1) {\n        var localloginComponent = [];\n        loginRole = 'student';\n        localloginComponent.push(React.createElement(MuiThemeProvider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          hintText: \"Enter your College Rollno\",\n          floatingLabelText: \"Student Id\",\n          onChange: function onChange(event, newValue) {\n            return _this3.setState({\n              username: newValue\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          type: \"password\",\n          hintText: \"Enter your Password\",\n          floatingLabelText: \"Password\",\n          onChange: function onChange(event, newValue) {\n            return _this3.setState({\n              password: newValue\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }), React.createElement(RaisedButton, {\n          label: \"Submit\",\n          primary: true,\n          style: style,\n          onClick: function onClick(event) {\n            return _this3.handleClick(event);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }))));\n      } else if (value == 2) {\n        var localloginComponent = [];\n        loginRole = 'teacher';\n        localloginComponent.push(React.createElement(MuiThemeProvider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          hintText: \"Enter your College Rollno\",\n          floatingLabelText: \"Teacher Id\",\n          onChange: function onChange(event, newValue) {\n            return _this3.setState({\n              username: newValue\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          type: \"password\",\n          hintText: \"Enter your Password\",\n          floatingLabelText: \"Password\",\n          onChange: function onChange(event, newValue) {\n            return _this3.setState({\n              password: newValue\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }), React.createElement(RaisedButton, {\n          label: \"Submit\",\n          primary: true,\n          style: style,\n          onClick: function onClick(event) {\n            return _this3.handleClick(event);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }))));\n      }\n\n      this.setState({\n        menuValue: value,\n        loginComponent: localloginComponent,\n        loginRole: loginRole\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(MuiThemeProvider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        title: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      })), React.createElement(MuiThemeProvider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Login as:\"), React.createElement(DropDownMenu, {\n        value: this.state.menuValue,\n        onChange: function onChange(event, index, value) {\n          return _this4.handleMenuChange(value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        value: 1,\n        primaryText: \"Student\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }), React.createElement(MenuItem, {\n        value: 2,\n        primaryText: \"Teacher\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })))), this.state.loginComponent);\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar style = {\n  margin: 15\n};\nexport default Login;","map":{"version":3,"sources":["/Users/emine.turcan/Projekt/MaCha/Front/src/Login.js"],"names":["React","Component","MuiThemeProvider","AppBar","RaisedButton","TextField","DropDownMenu","MenuItem","apiBaseUrl","axios","UploadPage","Login","props","localloginComponent","push","event","newValue","setState","username","password","style","handleClick","state","menuValue","loginComponent","loginRole","role","undefined","console","log","self","payload","post","then","response","data","code","uploadScreen","appContext","loginPage","alert","success","catch","error","value","index","handleMenuChange","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport DropDownMenu from 'material-ui/DropDownMenu';\nimport MenuItem from 'material-ui/MenuItem';\nvar apiBaseUrl = \"http://localhost:4000/api/\";\nimport axios from 'axios';\nimport UploadPage from './UploadPage';\nclass Login extends Component {\n  constructor(props){\n    super(props);\n    var localloginComponent=[];\n    localloginComponent.push(\n      <MuiThemeProvider>\n        <div>\n         <TextField\n           hintText=\"Enter your College Rollno\"\n           floatingLabelText=\"Student Id\"\n           onChange = {(event,newValue)=>this.setState({username:newValue})}\n           />\n         <br/>\n           <TextField\n             type=\"password\"\n             hintText=\"Enter your Password\"\n             floatingLabelText=\"Password\"\n             onChange = {(event,newValue) => this.setState({password:newValue})}\n             />\n           <br/>\n           <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n       </div>\n       </MuiThemeProvider>\n    )\n    this.state={\n      username:'',\n      password:'',\n      menuValue:1,\n      loginComponent:localloginComponent,\n      loginRole:'student'\n    }\n  }\n  componentWillMount(){\n  // console.log(\"willmount prop values\",this.props);\n  if(this.props.role != undefined){\n    if(this.props.role == 'student'){\n      console.log(\"in student componentWillMount\");\n      var localloginComponent=[];\n      localloginComponent.push(\n        <MuiThemeProvider>\n          <div>\n           <TextField\n             hintText=\"Enter your College Rollno\"\n             floatingLabelText=\"Student Id\"\n             onChange = {(event,newValue) => this.setState({username:newValue})}\n             />\n           <br/>\n             <TextField\n               type=\"password\"\n               hintText=\"Enter your Password\"\n               floatingLabelText=\"Password\"\n               onChange = {(event,newValue) => this.setState({password:newValue})}\n               />\n             <br/>\n             <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n         </div>\n         </MuiThemeProvider>\n      )\n      this.setState({menuValue:1,loginComponent:localloginComponent,loginRole:'student'})\n    }\n    else if(this.props.role == 'teacher'){\n      console.log(\"in teacher componentWillMount\");\n      var localloginComponent=[];\n      localloginComponent.push(\n        <MuiThemeProvider>\n          <div>\n           <TextField\n             hintText=\"Enter your College Rollno\"\n             floatingLabelText=\"Teacher Id\"\n             onChange = {(event,newValue) => this.setState({username:newValue})}\n             />\n           <br/>\n             <TextField\n               type=\"password\"\n               hintText=\"Enter your Password\"\n               floatingLabelText=\"Password\"\n               onChange = {(event,newValue) => this.setState({password:newValue})}\n               />\n             <br/>\n             <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n         </div>\n         </MuiThemeProvider>\n      )\n      this.setState({menuValue:2,loginComponent:localloginComponent,loginRole:'teacher'})\n    }\n  }\n  }\n  handleClick(event){\n    var self = this;\n    var payload={\n      \"userid\":this.state.username,\n\t    \"password\":this.state.password,\n      \"role\":this.state.loginRole\n    }\n    axios.post(apiBaseUrl+'login', payload)\n   .then(function (response) {\n     console.log(response);\n     if(response.data.code == 200){\n       console.log(\"Login successfull\");\n       var uploadScreen=[];\n       uploadScreen.push(<UploadPage appContext={self.props.appContext} role={self.state.loginRole}/>)\n       self.props.appContext.setState({loginPage:[],uploadScreen:uploadScreen})\n     }\n     else if(response.data.code == 204){\n       console.log(\"Username password do not match\");\n       alert(response.data.success)\n     }\n     else{\n       console.log(\"Username does not exists\");\n       alert(\"Username does not exist\");\n     }\n   })\n   .catch(function (error) {\n     console.log(error);\n   });\n  }\n  handleMenuChange(value){\n    console.log(\"menuvalue\",value);\n    var loginRole;\n    if(value==1){\n      var localloginComponent=[];\n      loginRole='student';\n      localloginComponent.push(\n        <MuiThemeProvider>\n          <div>\n           <TextField\n             hintText=\"Enter your College Rollno\"\n             floatingLabelText=\"Student Id\"\n             onChange = {(event,newValue) => this.setState({username:newValue})}\n             />\n           <br/>\n             <TextField\n               type=\"password\"\n               hintText=\"Enter your Password\"\n               floatingLabelText=\"Password\"\n               onChange = {(event,newValue) => this.setState({password:newValue})}\n               />\n             <br/>\n             <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n         </div>\n         </MuiThemeProvider>\n      )\n    }\n    else if(value == 2){\n      var localloginComponent=[];\n      loginRole='teacher';\n      localloginComponent.push(\n        <MuiThemeProvider>\n          <div>\n           <TextField\n             hintText=\"Enter your College Rollno\"\n             floatingLabelText=\"Teacher Id\"\n             onChange = {(event,newValue) => this.setState({username:newValue})}\n             />\n           <br/>\n             <TextField\n               type=\"password\"\n               hintText=\"Enter your Password\"\n               floatingLabelText=\"Password\"\n               onChange = {(event,newValue) => this.setState({password:newValue})}\n               />\n             <br/>\n             <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)}/>\n         </div>\n         </MuiThemeProvider>\n      )\n    }\n    this.setState({menuValue:value,\n                   loginComponent:localloginComponent,\n                   loginRole:loginRole})\n  }\n  render() {\n    return (\n      <div>\n        <MuiThemeProvider>\n        <AppBar\n             title=\"Login\"\n           />\n        </MuiThemeProvider>\n        <MuiThemeProvider>\n        <div>\n        <p>Login as:</p>\n        <DropDownMenu value={this.state.menuValue} onChange={(event,index,value)=>this.handleMenuChange(value)}>\n          <MenuItem value={1} primaryText=\"Student\" />\n          <MenuItem value={2} primaryText=\"Teacher\" />\n        </DropDownMenu>\n        </div>\n        </MuiThemeProvider>\n        {this.state.loginComponent}\n      </div>\n    );\n  }\n}\n\nconst style = {\n  margin: 15,\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}